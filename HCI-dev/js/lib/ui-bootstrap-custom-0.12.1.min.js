/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.12.1 - 2015-02-20
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.timepicker","ui.bootstrap.datepicker","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.tooltip","ui.bootstrap.bindHtml","ui.bootstrap.popover","ui.bootstrap.rating","ui.bootstrap.dropdown"]),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,i,a,r){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===h[1]&&(t+=12)),t):void 0}function l(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function u(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function s(e){p(),g.$setViewValue(new Date(f)),c(e)}function p(){g.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function c(t){var n=f.getHours(),i=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:u(n),e.minutes="m"===t?i:u(i),e.meridian=f.getHours()<12?h[0]:h[1]}function d(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),s()}var f=new Date,g={$setViewValue:angular.noop},h=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):r.meridians||a.DATETIME_FORMATS.AMPMS;this.init=function(n,i){g=n,g.$render=this.render;var a=i.eq(0),o=i.eq(1),l=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):r.mousewheel;l&&this.setupMousewheelEvents(a,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):r.readonlyInput,this.setupInputEvents(a,o)};var m=r.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){m=parseInt(e,10)});var v=r.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=r.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,g.$error.time){var n=o(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(f.setHours(n),s())}else c()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o();angular.isDefined(e)?(f.setHours(e),s("h")):i(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=u(e.hours)})}),e.updateMinutes=function(){var e=l();angular.isDefined(e)?(f.setMinutes(e),s("m")):i(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=u(e.minutes)})})},this.render=function(){var e=g.$modelValue?new Date(g.$modelValue):null;isNaN(e)?(g.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),p(),c())},e.incrementHours=function(){d(60*m)},e.decrementHours=function(){d(60*-m)},e.incrementMinutes=function(){d(v)},e.decrementMinutes=function(){d(-v)},e.toggleMeridian=function(){d(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,i){var a=i[0],r=i[1];r&&a.init(r,t.find("input"))}}}),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,i,a,r,o,l){var u=this,s={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,a){u[n]=angular.isDefined(t[n])?8>a?i(t[n])(e.$parent):e.$parent.$eval(t[n]):l[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){u[i]=e?new Date(e):null,u.refreshView()}):u[i]=l[i]?new Date(l[i]):null}),e.datepickerMode=e.datepickerMode||l.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===u.compare(t.date,u.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){s=e,s.$render=function(){u.render()}},this.render=function(){if(s.$modelValue){var e=new Date(s.$modelValue),t=!isNaN(e);t?this.activeDate=e:r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),s.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=s.$modelValue?new Date(s.$modelValue):null;s.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=s.$modelValue?new Date(s.$modelValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===u.minMode){var n=s.$modelValue?new Date(s.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),s.$setViewValue(n),s.$render()}else u.activeDate=t,e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=u.activeDate.getFullYear()+e*(u.step.years||0),n=u.activeDate.getMonth()+e*(u.step.months||0);u.activeDate.setFullYear(t,n,1),u.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===u.maxMode&&1===t||e.datepickerMode===u.minMode&&-1===t||(e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var p=function(){a(function(){u.element[0].focus()},0,!1)};e.$on("datepicker.focus",p),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(u.isDisabled(u.activeDate))return;e.select(u.activeDate),p()}else!t.ctrlKey||"up"!==n&&"down"!==n?(u.handleKeyDown(n,t),u.refreshView()):(e.toggleMode("up"===n?1:-1),p())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,i){var a=i[0],r=i[1];r&&a.init(r)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,i,a){function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?u[t]:29}function o(e,t){var n=new Array(t),i=new Date(e),a=0;for(i.setHours(12);t>a;)n[a++]=new Date(i),i.setDate(i.getDate()+1);return n}function l(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=a.showWeeks,a.step={months:1},a.element=n;var u=[31,28,31,30,31,30,31,31,30,31,30,31];a._refreshView=function(){var n=a.activeDate.getFullYear(),i=a.activeDate.getMonth(),r=new Date(n,i,1),u=a.startingDay-r.getDay(),s=u>0?7-u:-u,p=new Date(r);s>0&&p.setDate(-s+1);for(var c=o(p,42),d=0;42>d;d++)c[d]=angular.extend(a.createDateObject(c[d],a.formatDay),{secondary:c[d].getMonth()!==i,uid:t.uniqueId+"-"+d});t.labels=new Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(c[f].date,a.formatDayHeader),full:e(c[f].date,"EEEE")};if(t.title=e(a.activeDate,a.formatDayTitle),t.rows=a.split(c,7),t.showWeeks){t.weekNumbers=[];for(var g=l(t.rows[0][0].date),h=t.rows.length;t.weekNumbers.push(g++)<h;);}},a.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},a.handleKeyDown=function(e){var t=a.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=a.activeDate.getMonth()+("pageup"===e?-1:1);a.activeDate.setMonth(n,1),t=Math.min(r(a.activeDate.getFullYear(),a.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=r(a.activeDate.getFullYear(),a.activeDate.getMonth()));a.activeDate.setDate(t)},a.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,i,a){a.step={years:1},a.element=n,a._refreshView=function(){for(var n=new Array(12),i=a.activeDate.getFullYear(),r=0;12>r;r++)n[r]=angular.extend(a.createDateObject(new Date(i,r,1),a.formatMonth),{uid:t.uniqueId+"-"+r});t.title=e(a.activeDate,a.formatMonthTitle),t.rows=a.split(n,3)},a.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},a.handleKeyDown=function(e){var t=a.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=a.activeDate.getFullYear()+("pageup"===e?-1:1);a.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);a.activeDate.setMonth(t)},a.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,i){function a(e){return parseInt((e-1)/r,10)*r+1}var r=i.yearRange;i.step={years:r},i.element=t,i._refreshView=function(){for(var t=new Array(r),n=0,o=a(i.activeDate.getFullYear());r>n;n++)t[n]=angular.extend(i.createDateObject(new Date(o+n,0,1),i.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[r-1].label].join(" - "),e.rows=i.split(t,5)},i.compare=function(e,t){return e.getFullYear()-t.getFullYear()},i.handleKeyDown=function(e){var t=i.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*i.step.years:"home"===e?t=a(i.activeDate.getFullYear()):"end"===e&&(t=a(i.activeDate.getFullYear())+r-1),i.activeDate.setFullYear(t)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,i,a,r,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(l,u,s,p){function c(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function d(e){if(e){if(angular.isDate(e)&&!isNaN(e))return p.$setValidity("date",!0),e;if(angular.isString(e)){var t=r.parse(e,f)||new Date(e);return isNaN(t)?void p.$setValidity("date",!1):(p.$setValidity("date",!0),t)}return void p.$setValidity("date",!1)}return p.$setValidity("date",!0),null}var f,g=angular.isDefined(s.closeOnDateSelection)?l.$parent.$eval(s.closeOnDateSelection):o.closeOnDateSelection,h=angular.isDefined(s.datepickerAppendToBody)?l.$parent.$eval(s.datepickerAppendToBody):o.appendToBody;l.showButtonBar=angular.isDefined(s.showButtonBar)?l.$parent.$eval(s.showButtonBar):o.showButtonBar,l.getText=function(e){return l[e+"Text"]||o[e+"Text"]},s.$observe("datepickerPopup",function(e){f=e||o.datepickerPopup,p.$render()});var m=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");m.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(m.children()[0]);s.datepickerOptions&&angular.forEach(l.$parent.$eval(s.datepickerOptions),function(e,t){v.attr(c(t),e)}),l.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(e){if(s[e]){var n=t(s[e]);if(l.$parent.$watch(n,function(t){l.watchData[e]=t}),v.attr(c(e),"watchData."+e),"datepickerMode"===e){var i=n.assign;l.$watch("watchData."+e,function(e,t){e!==t&&i(l.$parent,e)})}}}),s.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),p.$parsers.unshift(d),l.dateSelection=function(e){angular.isDefined(e)&&(l.date=e),p.$setViewValue(l.date),p.$render(),g&&(l.isOpen=!1,u[0].focus())},u.bind("input change keyup",function(){l.$apply(function(){l.date=p.$modelValue})}),p.$render=function(){var e=p.$viewValue?a(p.$viewValue,f):"";u.val(e),l.date=d(p.$modelValue)};var D=function(e){l.isOpen&&e.target!==u[0]&&l.$apply(function(){l.isOpen=!1})},w=function(e){l.keydown(e)};u.bind("keydown",w),l.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),l.close()):40!==e.which||l.isOpen||(l.isOpen=!0)},l.$watch("isOpen",function(e){e?(l.$broadcast("datepicker.focus"),l.position=h?i.offset(u):i.position(u),l.position.top=l.position.top+u.prop("offsetHeight"),n.bind("click",D)):n.unbind("click",D)}),l.select=function(e){if("today"===e){var t=new Date;angular.isDate(p.$modelValue)?(e=new Date(p.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}l.dateSelection(e)},l.close=function(){l.isOpen=!1,u[0].focus()};var $=e(m)(l);m.remove(),h?n.find("body").append($):u.after($),l.$on("$destroy",function(){$.remove(),u.unbind("keydown",w),n.unbind("click",D)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],i=e.split("");return angular.forEach(a,function(t,a){var r=e.indexOf(a);if(r>-1){e=e.split(""),i[r]="("+t.regex+")",e[r]="$";for(var o=r+1,l=r+a.length;l>o;o++)i[o]="",e[o]="$";e=e.join(""),n.push({index:r,apply:t.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:t(n,"index")}}function i(e,t,n){return 1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}this.parsers={};var a={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,a){if(!angular.isString(t)||!a)return t;a=e.DATETIME_FORMATS[a]||a,this.parsers[a]||(this.parsers[a]=n(a));var r=this.parsers[a],o=r.regex,l=r.map,u=t.match(o);if(u&&u.length){for(var s,p={year:1900,month:0,date:1,hours:0},c=1,d=u.length;d>c;c++){var f=l[c-1];f.apply&&f.apply.call(p,u[c])}return i(p.year,p.month,p.date)&&(s=new Date(p.year,p.month,p.date,p.hours)),s}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var a=function(t){for(var n=e[0],a=t.offsetParent||n;a&&a!==n&&i(a);)a=a.offsetParent;return a||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},r=a(t[0]);r!=e[0]&&(i=this.offset(angular.element(r)),i.top+=r.clientTop-r.scrollTop,i.left+=r.clientLeft-r.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var a,r,o,l,u=n.split("-"),s=u[0],p=u[1]||"center";a=i?this.offset(e):this.position(e),r=t.prop("offsetWidth"),o=t.prop("offsetHeight");var c={center:function(){return a.left+a.width/2-r/2},left:function(){return a.left},right:function(){return a.left+a.width}},d={center:function(){return a.top+a.height/2-o/2},top:function(){return a.top},bottom:function(){return a.top+a.height}};switch(s){case"right":l={top:d[p](),left:c[s]()};break;case"left":l={top:d[p](),left:a.left-r};break;case"bottom":l={top:d[s](),left:c[p]()};break;default:l={top:a.top-o,left:c[p]()}}return l}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"mouseleave",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(a,r,o,l,u,s){return function(a,p,c){function d(e){var t=e||f.trigger||c,i=n[t]||t;return{show:t,hide:i}}var f=angular.extend({},t,i),g=e(a),h=s.startSymbol(),m=s.endSymbol(),v="<div "+g+'-popup title="'+h+"title"+m+'" content="'+h+"content"+m+'" placement="'+h+"placement"+m+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var e=r(v);return function(t,n,i){function r(){x.isOpen?c():s()}function s(){(!V||t.$eval(i[p+"Enable"]))&&(D(),x.popupDelay?O||(O=o(g,x.popupDelay,!1),O.then(function(e){e()})):g()())}function c(){t.$apply(function(){h()})}function g(){return O=null,k&&(o.cancel(k),k=null),x.content?(m(),M.css({top:0,left:0,display:"block"}),x.$digest(),S(),x.isOpen=!0,x.$digest(),S):angular.noop}function h(){x.isOpen=!1,o.cancel(O),O=null,x.animation?k||(k=o(v,500)):v()}function m(){M&&v(),b=x.$new(),M=e(b,function(e){T?l.find("body").append(e):n.after(e)})}function v(){k=null,M&&(M.remove(),M=null),b&&(b.$destroy(),b=null)}function D(){w(),$()}function w(){var e=i[p+"Placement"];x.placement=angular.isDefined(e)?e:f.placement}function $(){var e=i[p+"PopupDelay"],t=parseInt(e,10);x.popupDelay=isNaN(t)?f.popupDelay:t}function y(){var e=i[p+"Trigger"];A(),E=d(e),E.show===E.hide?n.bind(E.show,r):(n.bind(E.show,s),n.bind(E.hide,c))}var M,b,k,O,T=angular.isDefined(f.appendToBody)?f.appendToBody:!1,E=d(void 0),V=angular.isDefined(i[p+"Enable"]),x=t.$new(!0),S=function(){var e=u.positionElements(n,M,x.placement,T);e.top+="px",e.left+="px",M.css(e)};x.isOpen=!1,i.$observe(a,function(e){x.content=e,!e&&x.isOpen&&h()}),i.$observe(p+"Title",function(e){x.title=e});var A=function(){n.unbind(E.show,s),n.unbind(E.hide,c)};y();var H=t.$eval(i[p+"Animation"]);x.animation=angular.isDefined(H)?!!H:f.animation;var F=t.$eval(i[p+"AppendToBody"]);T=angular.isDefined(F)?F:T,T&&t.$on("$locationChangeSuccess",function(){x.isOpen&&h()}),t.$on("$destroy",function(){o.cancel(k),o.cancel(O),A(),v(),x=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(a){i=a,i.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(i.$setViewValue(t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var a=i[0],r=i[1];r&&a.init(r)}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(a){t||(e.bind("click",n),e.bind("keydown",i)),t&&t!==a&&(t.isOpen=!1),t=a},this.close=function(a){t===a&&(t=null,e.unbind("click",n),e.unbind("keydown",i))};var n=function(e){if(t){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})}},i=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,i,a,r){var o,l=this,u=e.$new(),s=i.openClass,p=angular.noop,c=t.onToggle?n(t.onToggle):angular.noop;this.init=function(i){l.$element=i,t.isOpen&&(o=n(t.isOpen),p=o.assign,e.$watch(o,function(e){u.isOpen=!!e}))},this.toggle=function(e){return u.isOpen=arguments.length?!!e:!u.isOpen},this.isOpen=function(){return u.isOpen},u.getToggleElement=function(){return l.toggleElement},u.focusToggleElement=function(){l.toggleElement&&l.toggleElement[0].focus()},u.$watch("isOpen",function(t,n){r[t?"addClass":"removeClass"](l.$element,s),t?(u.focusToggleElement(),a.open(u)):a.close(u),p(e,t),angular.isDefined(t)&&t!==n&&c(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){u.isOpen=!1}),e.$on("$destroy",function(){u.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,i){i.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,i){if(i){i.toggleElement=t;var a=function(a){a.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",a),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",a)})}}}});